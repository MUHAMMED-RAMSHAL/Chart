"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.aggregationSingleRow = void 0;
var ckb_1 = require("@antv/ckb");
var Wiki = ckb_1.CKBJson('en-US', true);
var allChartTypes = Object.keys(Wiki);
exports.aggregationSingleRow = {
    id: 'aggregation-single-row',
    type: 'HARD',
    docs: {
        lintText: 'Recommend kpi_panel when only one row of aggregated data is available.',
    },
    trigger: function (_a) {
        var chartType = _a.chartType;
        return allChartTypes.indexOf(chartType) !== -1;
    },
    validator: function (args) {
        var result = 0;
        var chartType = args.chartType, dataProps = args.dataProps;
        if (dataProps.every(function (i) { return i.count === 1 && i.levelOfMeasurements.includes('Interval'); })) {
            result = chartType === 'kpi_panel' ? 1 : 0.2;
        }
        else {
            result = chartType === 'kpi_panel' ? 0 : 1;
        }
        return result;
    },
};
